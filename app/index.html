<!DOCTYPE html>
<html lang="en" ng-app="dailyHabits">
<head>
    <meta charset="UTF-8">
    <title></title>

    <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">
    <link rel="stylesheet" href="css/app.css">
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-animate/angular-animate.min.js"></script>
    <script src="bower_components/angular-aria/angular-aria.min.js"></script>
    <script src="bower_components/angular-material/angular-material.min.js"></script>
    <script src="bower_components/angular-local-storage/dist/angular-local-storage.js"></script>
    <script src="bower_components/checklist-model/checklist-model.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/node-uuid/uuid.js"></script>
    <script src="../../uoacalendar-js/dist/uoacalendar.js"></script>
    <script src="bower_components/d3/d3.js"></script>
    <script src="bower_components/nvd3/build/nv.d3.js"></script> <!-- or use another assembly -->
    <script src="bower_components/angular-nvd3/dist/angular-nvd3.js"></script>
    <script src="js/controllers.js"></script>

</head>
<body ng-controller="dailyHabitsCtrl">

    <md-sidenav id="sidenav" class="md-sidenav-left md-whiteframe-z2" md-component-id="sideNavLeft">
        <md-toolbar>
            <div class="md-toolbar-tools" layout="row">
                <md-button class="md-icon-button" aria-label="Open menu" ng-click="toggleMenu()">
                    <md-icon md-svg-icon="img/icons/ic_menu_48px.svg"></md-icon>
                </md-button>

                <h2 class="md-toolbar-tools"></h2>
            </div>

        </md-toolbar>
        <md-content>
            <md-list-item ng-click="onMenuClicked(item.name, $event)" ng-repeat="item in menuItems">
                <md-icon md-svg-icon="img/icons/{{item.icon}}"></md-icon>
                <p> {{ item.name }} </p>
            </md-list-item>
        </md-content>
    </md-sidenav>

    <md-toolbar class="md-tall" layout="column">
        <div flex layout="row" layout-align="center center">
            <md-button class="md-icon-button" aria-label="Open menu" ng-click="toggleMenu()">
                <md-icon md-svg-icon="img/icons/ic_menu_48px.svg"></md-icon>
            </md-button>

            <div flex layout-align="center" class="md-toolbar-tools">
                <md-button class="md-icon-button" aria-label="Previous week" ng-click="previousDay()" >
                    <md-icon md-svg-icon="img/icons/ic_chevron_left_48px.svg"></md-icon>
                </md-button>

                <h2 style="width: 200px; text-align: center;">{{currentDateStr}}</h2>

                <md-button class="md-icon-button" aria-label="Next week" ng-click="nextDay()">
                    <md-icon md-svg-icon="img/icons/ic_chevron_right_48px.svg"></md-icon>
                </md-button>
            </div>

            <md-button class="md-icon-button" aria-label="Goto today" ng-click="gotoToday()" ng-disabled="isDayEditable()">
                <md-icon md-svg-icon="img/icons/ic_edit_48px.svg"></md-icon>
            </md-button>
        </div>

        <div flex>
            <h2 style="width:200px;font-size: 25px;margin-left: 75px; margin-top: 15px; font-weight: 400; letter-spacing: .005em;">Daily View</h2>
        </div>
    </md-toolbar>

    <md-button class="md-fab" aria-label="Add habit" ng-click="showNewHabitPopup($event)" style="position: relative; margin-top: 0px; padding-top: 0px; transform: translate(10%, -50%); ">
        <md-icon md-svg-src="img/icons/ic_add_48px.svg"></md-icon>
    </md-button>

    <div style="margin-bottom: 30px; margin-left: 30px; margin-right: 30px; margin-top: -30px;">
        <md-list ng-cloak>
            <md-subheader class="md-no-sticky">My habits</md-subheader>

            <md-list-item ng-repeat="event in events">
                <md-checkbox style="width: 43px;padding-left: 0px;padding-right: 0px;margin-right: 20px; margin-left: 0;" ng-if="event.type=='boolean'" ng-model="event.todo" ng-change="onEventChanged(event)" ng-disabled="!isDayEditable()"></md-checkbox>
                <md-input-container ng-if="event.type=='number'" style="width: 43px;padding-left: 0px;padding-right: 0px;margin-right: 20px; margin-left: 0;" >
                    <label>{{event.units}}</label>
                    <input type="number" step="any" min="0" max="99" ng-model="event.qty" ng-disabled="!isDayEditable()" ng-change="onEventChanged(event)"/>
                </md-input-container>

                <p ng-if="event.type=='boolean'"> {{ event.title }} </p>
                <p ng-if="event.type=='number'"> {{ event.title + ": " + event.verb + " " + states[event.comparitor-1].name + " " + event.goalQty + " " + event.units + " today"}} </p>
               <md-icon class="md-secondary" ng-click="showEditHabitPopup($event, event)" aria-label="Chat" md-svg-icon="img/icons/ic_edit_48px.svg" ng-disabled="!isDayEditable()"></md-icon>
            </md-list-item>
        </md-list>
    </div>
</body>
</html>